package org.example.g1701_1800.s1716_calculate_money_in_leetcode_bank;

// #Easy #Math #Bank

/**
 * 1716. Calculate Money in Leetcode Bank
 *
 * Герой (Hercy) хочет положить деньги в банк Leetcode.
 * Он планирует вносить деньги на счет в понедельник и каждый
 * последующий день недели, увеличивая сумму взноса на 1 доллар по
 * сравнению с предыдущей неделей.
 *
 * Конкретно:
 * В понедельник первой недели он вносит 1 доллар
 * Во вторник первой недели - 2 доллара
 * ...
 * В воскресенье первой недели - 7 долларов
 * В понедельник второй недели - 2 доллара
 * Во вторник второй недели - 3 доллара
 * И так далее...
 * Дано целое число n - количество дней. Нужно вычислить, сколько всего
 * денег будет на счету после n дней.
 * (примеры внизу)
 *
 * Решение - математическое - самое быстрое 0 ms
 *
 * Подход:
 * Используем математическую формулу для вычисления суммы
 * арифметической прогрессии. Разбиваем общее количество дней
 * на полные недели и оставшиеся дни.
 *
 * Сложность:
 * Время: O(1) - постоянное время
 * Память: O(1) - не используем дополнительную память
 *
 */
class Solution {
    public int totalMoney(int n) {
        // Количество полных недель
        int fullWeeks = n / 7;
        // Количество оставшихся дней
        int remainingDays = n % 7;

        // Сумма за полные недели
        // Первая неделя: 28 (1+2+3+4+5+6+7)
        // Каждая следующая неделя увеличивается на 7
        // Сумма арифметической прогрессии: (2*a1 + (n-1)*d)/2 * n
        int fullWeeksSum = (28 * 2 + 7 * (fullWeeks - 1)) * fullWeeks / 2;

        // Сумма за оставшиеся дни
        // Начинаем с (fullWeeks + 1) и добавляем remainingDays дней
        int remainingDaysSum = (2 * (fullWeeks + 1) + (remainingDays - 1)) * remainingDays / 2;

        return fullWeeksSum + remainingDaysSum;
    }
}
/*
Пример 1
Input: n = 4
Output: 10
Объяснение: После 4 дней (пн-чт):
День 1: 1 доллар
День 2: 2 доллара
День 3: 3 доллара
День 4: 4 доллара
Итого: 1 + 2 + 3 + 4 = 10

Пример 2
Input: n = 10
Output: 37
Объяснение:
Неделя 1: 1+2+3+4+5+6+7 = 28
Неделя 2: 2+3+4 = 9 (только 3 дня)
Итого: 28 + 9 = 37
 */