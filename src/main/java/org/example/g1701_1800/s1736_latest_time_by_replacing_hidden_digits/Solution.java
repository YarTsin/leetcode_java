package org.example.g1701_1800.s1736_latest_time_by_replacing_hidden_digits;

// #Easy #String #Greedy #Date #Time

/**
 * 1736. Latest Time by Replacing Hidden Digits
 *
 * Дана строка time в формате "hh:mm", представляющая время. Некоторые
 * цифры могут быть скрыты и заменены символом '?'. Нужно заменить все '?'
 * цифрами так, чтобы получить максимально возможное допустимое время.
 *
 * Правила:
 * "hh" должно быть в диапазоне от "00" до "23"
 * "mm" должно быть в диапазоне от "00" до "59"
 *
 * Нужно получить максимально возможное время
 *
 * Пример 1
 * Input: time = "2?:?0"  * Output: "23:50"
 *
 * Пример 2
 * Input: time = "0?:3?" * Output: "09:39"
 *
 * Решение на основе жадного алгоритма - самое быстрое - 0 ms
 *
 * Подход:
 * Обрабатываем каждую позицию отдельно, выбирая максимально
 * возможную цифру с учетом ограничений формата времени.
 *
 * Сложность:
 * Время: O(1) - обрабатываем фиксированное количество позиций (5 символов)
 * Память: O(1) - используем массив фиксированного размера
 */
class Solution {
    public String maximumTime(String time) {
        // Преобразуем строку в массив символов для удобства замены
        char[] timeChars = time.toCharArray();

        // Обрабатываем часы (первые два символа)
        // Первая цифра часов
        if (timeChars[0] == '?') {
            // Если вторая цифра часов неизвестна или <= 3, то первая может быть 2
            // Иначе первая может быть только 1 (так как 24, 25... недопустимы)
            if (timeChars[1] == '?' || timeChars[1] <= '3') {
                timeChars[0] = '2';
            } else {
                timeChars[0] = '1';
            }
        }

        // Вторая цифра часов
        if (timeChars[1] == '?') {
            // Если первая цифра часов 2, то вторая может быть до 3 (23 часа)
            // Иначе вторая может быть до 9 (19 часов, 09 часов и т.д.)
            if (timeChars[0] == '2') {
                timeChars[1] = '3';
            } else {
                timeChars[1] = '9';
            }
        }

        // Обрабатываем минуты (последние два символа)
        // Первая цифра минут (после двоеточия)
        if (timeChars[3] == '?') {
            // Первая цифра минут может быть до 5 (59 минут)
            timeChars[3] = '5';
        }

        // Вторая цифра минут
        if (timeChars[4] == '?') {
            // Вторая цифра минут может быть до 9
            timeChars[4] = '9';
        }

        return new String(timeChars);
    }
}
