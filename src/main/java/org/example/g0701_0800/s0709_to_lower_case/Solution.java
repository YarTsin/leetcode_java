package org.example.g0701_0800.s0709_to_lower_case;

// #Easy #String #Char #Bits


/**
 * 709. To Lower Case
 * Необходимо реализовать функцию, которая преобразует строку
 * в нижний регистр. Функция должна принимать строку и возвращать
 * новую строку, где все буквы в верхнем регистре преобразованы
 * в нижний регистр.
 *
 * Особенности реализации
 * Нельзя использовать встроенные функции типа toLowerCase()
 * Нужно обрабатывать только символы английского алфавита
 * Не-алфавитные символы должны оставаться без изменений
 * Строка может содержать любые ASCII символы
 *
 * Пример 1
 * Input: "Hello"  * Output: "hello"
 *
 * Пример 2
 * Input: "Hello World!" * Output: "hello world!"
 *
 *  Решение с использованием разницы ASCII кодов - 2-e по скорости - 1ms
 */
class Solution {
    public String toLowerCase(String str) {
        // Создаем StringBuilder для эффективного построения строки
        StringBuilder result = new StringBuilder();

        // Проходим по каждому символу входной строки
        for (int i = 0; i < str.length(); i++) {
            char currentChar = str.charAt(i);

            // Проверяем, является ли символ заглавной буквой (A-Z)
            if (currentChar >= 'A' && currentChar <= 'Z') {
                // Преобразуем в нижний регистр, добавляя разницу в ASCII кодах
                // 'a' - 'A' = 32 - это разница между верхним и нижним регистром
                char lowerCaseChar = (char)(currentChar + 32);
                result.append(lowerCaseChar);
            } else {
                // Если символ не заглавная буква, добавляем как есть
                result.append(currentChar);
            }
        }

        return result.toString();
    }
}
/*
Преимущества:
Временная сложность: O(n), где n - длина строки
Пространственная сложность: O(n) для результата
Простая и эффективная реализация
Не использует встроенные функции
 */