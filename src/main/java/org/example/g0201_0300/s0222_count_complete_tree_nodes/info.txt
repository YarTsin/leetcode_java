Полное бинарное дерево - это бинарное дерево, в котором:
Все уровни полностью заполнены, кроме, возможно, последнего
Последний уровень заполнен слева направо

Детальное объяснение оптимального решения
Как работает оптимальное решение:
Вычисляем высоты: Для корня находим высоту по левому и правому путям
Проверяем идеальность: Если leftHeight == rightHeight, дерево идеальное
Формула идеального дерева: Количество узлов = 2^h - 1
Рекурсия: Если дерево не идеальное, рекурсивно считаем поддеревья

Почему сложность O(log² n):
На каждом уровне рекурсии вычисляем высоты (O(log n))
Глубина рекурсии: O(log n)
Итого: O(log n) × O(log n) = O(log² n)