package org.example.g1101_1200.s1154_day_of_the_year;

// #Easy #String #Math #Интересно #Date

/**
 * 1154. Day of the Year
 * Дана строка date, представляющая дату в формате ГГГГ-ММ-ДД.
 * Нужно вернуть номер дня в году, соответствующий этой дате.
 * (примеры внизу)
 *
 * Особенности:
 * Год находится в диапазоне [1900, 2000]
 * Дата всегда корректна
 *
 * Решение - разбор строки - не быстрое - 11 ms
 *
 *
 * Подход:
 * Разбираем строку на год, месяц и день
 * Создаем массив с количеством дней в каждом месяце
 * Проверяем, является ли год високосным (для корректировки февраля)
 * Суммируем дни всех предыдущих месяцев и добавляем день текущего месяца
 *
 * Сложность: O(1) - постоянное время выполнения
 * Память: O(1) - постоянное использование памяти
 */
class Solution {
    public int dayOfYear(String date) {
        // Разбиваем строку на компоненты года, месяца и дня
        String[] parts = date.split("-");
        int year = Integer.parseInt(parts[0]);
        int month = Integer.parseInt(parts[1]);
        int day = Integer.parseInt(parts[2]);

        // Массив с количеством дней в каждом месяце (не високосный год)
        int[] daysInMonth = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};

        // Проверяем, является ли год високосным
        if (isLeapYear(year)) {
            daysInMonth[1] = 29; // Февраль имеет 29 дней в високосный год
        }

        int dayOfYear = 0;

        // Суммируем дни всех предыдущих месяцев
        for (int i = 0; i < month - 1; i++) {
            dayOfYear += daysInMonth[i];
        }

        // Добавляем дни текущего месяца
        dayOfYear += day;

        return dayOfYear;
    }

    // Метод для проверки високосного года
    private boolean isLeapYear(int year) {
        // Год является високосным, если:
        // 1. Делится на 4, но не делится на 100
        // 2. Или делится на 400
        return (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);
    }
}
/*
Пример 1
Ввод: date = "2019-01-09"
Вывод: 9
Объяснение: 9 января - это 9-й день 2019 года.

Пример 2
Ввод: date = "2019-02-10"
Вывод: 41
Объяснение: 10 февраля - это 41-й день года (31 день января + 10 дней февраля).

Пример 3
Ввод: date = "2003-03-01"
Вывод: 60
Объяснение: 2003 год не високосный, поэтому в феврале 28 дней.

Пример 4
Ввод: date = "2004-03-01"
Вывод: 61
Объяснение: 2004 год високосный, поэтому в феврале 29 дней.
 */