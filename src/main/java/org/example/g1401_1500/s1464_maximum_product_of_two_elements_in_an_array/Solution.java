package org.example.g1401_1500.s1464_maximum_product_of_two_elements_in_an_array;

// #Easy #Array #Sorting #Heap_Priority_Queue

/**
 * 1464. Maximum Product of Two Elements in an Array
 *
 * Дан целочисленный массив nums. Необходимо найти максимальное
 * значение выражения (nums[i] - 1) * (nums[j] - 1), где i и j —
 * различные индексы массива (т.е. i != j).
 *
 * Анализ задачи
 * Ключевое наблюдение: Чтобы максимизировать произведение
 * (nums[i] - 1) * (nums[j] - 1), нужно выбрать два наибольших
 * элемента массива, так как:
 * Вычитание 1 не меняет относительный порядок элементов
 * Произведение двух наибольших чисел даст максимальный результат
 *
 * Решение - Нахождение двух максимальных элементов
 * Самое быстрое - 0 ms
 *
 * Сложность: O(n) по времени, O(1) по памяти
 */
class Solution {
    public int maxProduct(int[] nums) {
        // Инициализируем два наибольших значения
        int firstMax = Integer.MIN_VALUE;
        int secondMax = Integer.MIN_VALUE;

        // Проходим по всем элементам массива
        for (int number : nums) {
            // Если текущее число больше первого максимума
            if (number > firstMax) {
                secondMax = firstMax;  // Старый первый максимум становится вторым
                firstMax = number;     // Обновляем первый максимум
            }
            // Если текущее число между первым и вторым максимумами
            else if (number > secondMax) {
                secondMax = number;    // Обновляем второй максимум
            }
        }

        // Вычисляем максимальное произведение
        return (firstMax - 1) * (secondMax - 1);
    }
}
/*
Пример 1
Входные данные: nums = [3,4,5,2]
Выходные данные: 12
Объяснение:
Если выбрать индексы i=1 и j=2 (значения 4 и 5):
(4 - 1) * (5 - 1) = 3 * 4 = 12

Пример 2
Входные данные: nums = [1,5,4,5]
Выходные данные: 16
Объяснение:
Если выбрать индексы i=1 и j=3 (значения 5 и 5):
(5 - 1) * (5 - 1) = 4 * 4 = 16

Пример 3
Входные данные: nums = [3,7]
Выходные данные: 12
Объяснение:
(3 - 1) * (7 - 1) = 2 * 6 = 12

Пример 4
Входные данные: nums = [10,2,5,2]
Выходные данные: 36
Объяснение:
(10 - 1) * (5 - 1) = 9 * 4 = 36
 */