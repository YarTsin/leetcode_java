package org.example.g1401_1500.s1491_average_salary_excluding_the_minimum_and_maximum_salary;

// #Easy #Array #Sorting

/**
 * 1491. Average Salary Excluding the Minimum and Maximum Salary
 *
 * Дан массив целых чисел salary, где каждый элемент salary[i]
 * — это зарплата i-го сотрудника.
 * В массиве как минимум 3 элемента
 * (согласно ограничениям задачи: 3 <= salary.length <= 100).
 *
 * Задача: Вернуть среднюю зарплату сотрудников, исключив
 * самую низкую и самую высокую зарплаты.
 *
 * Точное описание расчета:
 * Найти максимальную зарплату в массиве.
 * Найти минимальную зарплату в массиве.
 * Просуммировать все элементы массива.
 * Вычесть из общей суммы найденные минимум и максимум.
 * Разделить полученную сумму на количество оставшихся элементов
 * (salary.length - 2).
 * Ответ должен быть представлен в виде числа с плавающей запятой
 * (double) с максимальной точностью (в пределах возможностей типа double).
 * (примеры внизу)
 *
 * Решение - Прямолинейное решение (Brute Force / Intuitive)
 * Самое быстрое - 0 ms
 *
 * Сложность:
 * Временная сложность: O(n). Алгоритм выполняет один проход
 * по массиву из n элементов, выполняя на каждом шаге константное
 * количество операций (сравнения, сложение).
 * Пространственная сложность: O(1). Используется только несколько
 * переменных примитивных типов (minSalary, maxSalary, totalSum, count),
 * не зависящих от размера входного массива.
 *
 *
 */
class Solution {
    public double average(int[] salary) {
        // Инициализируем переменные для хранения минимума и максимума.
        // Присваиваем им значения первого элемента массива для начала сравнения.
        int minSalary = salary[0];
        int maxSalary = salary[0];

        // Инициализируем переменную для накопления общей суммы всех зарплат.
        int totalSum = 0;

        // Проходим по всем элементам массива salary.
        for (int currentSalary : salary) {
            // Обновляем значение минимальной зарплаты, если текущая зарплата меньше известного минимума.
            if (currentSalary < minSalary) {
                minSalary = currentSalary;
            }
            // Обновляем значение максимальной зарплаты, если текущая зарплата больше известного максимума.
            if (currentSalary > maxSalary) {
                maxSalary = currentSalary;
            }
            // Добавляем текущую зарплату к общей сумме.
            totalSum += currentSalary;
        }

        // Вычитаем из общей суммы минимальную и максимальную зарплаты.
        int sumWithoutExtremes = totalSum - minSalary - maxSalary;

        // Вычисляем количество зарплат, участвующих в усреднении (все, кроме min и max).
        int count = salary.length - 2;

        // Возвращаем среднее арифметическое.
        // Важно: хотя totalSum, minSalary, maxSalary - целые (int),
        // мы приводим числитель к double для выполнения деления с плавающей точкой
        // и избежания целочисленного деления.
        return (double) sumWithoutExtremes / count;
    }
}
/*
Пример 1
Ввод: salary = [4000, 3000, 1000, 2000]
Минимум: 1000
Максимум: 4000
Сумма всех элементов: 4000 + 3000 + 1000 + 2000 = 10000
Сумма без минимума и максимума: 10000 - 1000 - 4000 = 5000
Количество элементов для усреднения: 4 - 2 = 2
Результат: 5000 / 2 = 2500.0

Пример 2
Ввод: salary = [1000, 2000, 3000]
Минимум: 1000
Максимум: 3000
Сумма всех элементов: 1000 + 2000 + 3000 = 6000
Сумма без минимума и максимума: 6000 - 1000 - 3000 = 2000
Количество элементов для усреднения: 3 - 2 = 1
Результат: 2000 / 1 = 2000.0

Пример 3
Ввод: salary = [8000, 9000, 2000, 3000, 6000, 1000]
Минимум: 1000
Максимум: 9000
Сумма всех элементов: 8000+9000+2000+3000+6000+1000 = 29000
Сумма без минимума и максимума: 29000 - 1000 - 9000 = 19000
Количество элементов для усреднения: 6 - 2 = 4
Результат: 19000 / 4 = 4750.0
 */