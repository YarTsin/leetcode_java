Сравнение подходов
Все три решения имеют одинаковую асимптотическую сложность. Разница в реализации:

Решение с directions - более явное определение соседей

Решение с вложенными циклами - более компактное и математическое

Решение с выделенной функцией - более модульное и читаемое

Рекомендация: Второе решение с вложенными циклами наиболее предпочтительно, так как:

Более интуитивно понятно (явно показывает область 3x3)

Легче читается и модифицируется

Не требует дополнительных структур данных