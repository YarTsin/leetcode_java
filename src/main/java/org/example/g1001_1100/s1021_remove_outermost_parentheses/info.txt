Решение с помощью счетчика глубины

Основной подход:
Идея заключается в использовании счетчика depth (или balance),
который отслеживает уровень вложенности скобок.

Когда мы встречаем открывающую скобку '(', мы увеличиваем счетчик.
Когда мы встречаем закрывающую скобку ')', мы уменьшаем счетчик.

Примитивная подстрока заканчивается, когда счетчик
снова становится равным нулю. Однако нам нужно удалить внешние скобки
для каждой такой подстроки.

Ключевое наблюдение:
Первая открывающая скобка примитивной подстроки (та, которая
увеличивает счетчик с 0 до 1) является внешней и должна быть пропущена.

Последняя закрывающая скобка примитивной подстроки
(та, которая уменьшает счетчик с 1 до 0) является внешней и должна быть пропущена.

Все остальные скобки (внутренние) должны быть добавлены в результирующую строку.