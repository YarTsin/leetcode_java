package org.example.g1001_1100.s1047_remove_all_adjacent_duplicates_in_string;

// #Easy #String #Stack

/**
 * 1047. Remove All Adjacent Duplicates In String
 *
 * Дана строка s, состоящая из строчных английских букв.
 * Операция удаления смежных дубликатов состоит из выбора
 * двух соседних и одинаковых букв и их удаления.
 *
 * Повторяем операцию удаления смежных дубликатов для строки
 * s до тех пор, пока больше нельзя будет выполнить удалений.
 *
 * Необходимо вернуть окончательную строку после выполнения
 * всех возможных удалений. Гарантируется, что ответ уникален.
 * (примеры внизу)
 *
 * Решение - с использованием стека - не быстрое - 23 ms
 *
 * Подход:
 * Используем стек для отслеживания символов.
 * Проходим по каждому символу строки:
 * Если стек не пуст и верхний элемент стека равен текущему символу,
 * удаляем его из стека (удаляем дубликат)
 * Иначе добавляем текущий символ в стек
 * В результате в стеке останутся только символы без смежных дубликатов.
 *
 * Сложность:
 * Временная сложность: O(n), где n - длина строки.
 * Каждый символ обрабатывается один раз.
 * Пространственная сложность: O(n) в худшем случае для стека.
 *
 */
import java.util.Stack;

class Solution {
    public String removeDuplicates(String s) {
        // Создаем стек для хранения символов
        Stack<Character> stack = new Stack<>();

        // Проходим по каждому символу в строке
        for (char currentChar : s.toCharArray()) {
            if (!stack.isEmpty() && stack.peek() == currentChar) {
                // Если верхний элемент стека равен текущему символу, удаляем его (удаляем дубликат)
                stack.pop();
            } else {
                // Иначе добавляем текущий символ в стек
                stack.push(currentChar);
            }
        }

        // Строим результирующую строку из символов в стеке
        StringBuilder result = new StringBuilder();
        for (char c : stack) {
            result.append(c);
        }

        return result.toString();
    }
}
/*
Пример 1
Ввод: s = "abbaca"
Вывод: "ca"
Объяснение:
1. Удаляем "bb" → строка становится "aaca"
2. Удаляем "aa" → строка становится "ca"
Больше удалений выполнить нельзя.

Пример 2
Ввод: s = "azxxzy"
Вывод: "ay"
Объяснение:
1. Удаляем "xx" → строка становится "azzy"
2. Удаляем "zz" → строка становится "ay"

Пример 3
Ввод: s = "aaaaaaaa"
Вывод: ""
Объяснение:
Последовательно удаляются все пары одинаковых символов.
 */