Решение - с помощью модулярной арифметики

Вместо того чтобы хранить огромное двоичное число, мы можем вычислять
остаток от деления на 5 на каждом шаге. Ключевое наблюдение: когда мы
добавляем новый бит b справа к существующему числу x, новое число
становится x * 2 + b. Нас интересует не само число x, а только остаток
от его деления на 5 (x % 5).

Мы можем использовать свойство модулярной арифметики:
( (x * 2) + b ) % 5 = ( ( (x % 5) * 2 ) + b ) % 5

Таким образом, на каждом шаге мы:
Берем предыдущий остаток remainder.
Умножаем его на 2 (что эквивалентно (remainder * 2) % 5).
Прибавляем текущий бит b.
Берем модуль от результата по основанию 5: new_remainder = (remainder * 2 + b) % 5.
Проверяем, равен ли новый остаток 0.