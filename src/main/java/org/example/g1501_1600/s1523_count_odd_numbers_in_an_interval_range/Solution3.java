package org.example.g1501_1600.s1523_count_odd_numbers_in_an_interval_range;

/**
 * Решение с использованием битовых операций
 * Более техническое решение, также с сложностью O(1).
 *
 * Подход:
 * Используем битовые операции для проверки четности
 * Логика аналогична математическому решению
 *
 */
class Solution3 {
    public int countOdds(int low, int high) {
        // Если low четное, увеличиваем его на 1 чтобы сделать нечетным
        if ((low & 1) == 0) {
            low++;
        }

        // Если low стало больше high, возвращаем 0
        if (low > high) {
            return 0;
        }

        // Вычисляем количество нечетных чисел в арифметической прогрессии
        // с первым элементом low, последним high и шагом 2
        return (high - low) / 2 + 1;
    }
}