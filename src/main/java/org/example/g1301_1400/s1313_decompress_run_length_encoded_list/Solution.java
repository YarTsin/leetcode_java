package org.example.g1301_1400.s1313_decompress_run_length_encoded_list;

// #Easy #Array #RLE

/**
 * 1313. Decompress Run-Length Encoded List
 *
 * Нам дан список nums, представляющий RLE (Run-Length Encoded)
 * сжатый список. Нужно восстановить исходный список.
 *
 * Кодирование RLE: Пары [частота, значение] последовательно идут в списке.
 * Для каждой пары:
 * - Первый элемент nums[2*i] указывает частоту повторения
 * - Второй элемент nums[2*i+1] указывает значение
 *
 * Цель: Вернуть распакованный (декомпрессированный) список.
 * (примеры внизу)
 *
 * Решение - Проход по парам и заполнение результата
 * 2-е решение по скорости
 *
 * Подход:
 * Проходим по списку с шагом 2 (обрабатываем пары)
 * Для каждой пары [частота, значение] добавляем значение нужное количество раз
 */
class Solution {
    public int[] decompressRLElist(int[] nums) {
        // Сначала вычисляем общую длину результата
        int totalLength = 0;
        for (int i = 0; i < nums.length; i += 2) {
            totalLength += nums[i]; // Суммируем все частоты
        }

        // Создаем массив результата
        int[] result = new int[totalLength];
        int currentIndex = 0; // Текущая позиция в результате

        // Обрабатываем пары [частота, значение]
        for (int i = 0; i < nums.length; i += 2) {
            int frequency = nums[i];     // Частота повторения
            int value = nums[i + 1];     // Значение для повторения

            // Добавляем значение нужное количество раз
            for (int j = 0; j < frequency; j++) {
                result[currentIndex++] = value;
            }
        }

        return result;
    }
}
/*
Пример 1
Вход: nums = [1,2,3,4]
Выход: [2,4,4,4]
Объяснение: Первая пара [1,2] означает "1 раз число 2" → [2]
Вторая пара [3,4] означает "3 раза число 4" → [4,4,4]
Общий результат: [2,4,4,4]

Пример 2
Вход: nums = [1,1,2,3]
Выход: [1,3,3]
Объяснение: Первая пара [1,1] означает "1 раз число 1" → [1]
Вторая пара [2,3] означает "2 раза число 3" → [3,3]
Общий результат: [1,3,3]

Пример 3
Вход: nums = [5,6,2,7]
Выход: [6,6,6,6,6,7,7]
Объяснение: Первая пара [5,6] означает "5 раз число 6" → [6,6,6,6,6]
Вторая пара [2,7] означает "2 раза число 7" → [7,7]
 */